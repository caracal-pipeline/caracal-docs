

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>line &mdash; CARACal latest documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="mask" href="../mask/index.html" />
    <link rel="prev" title="inspect" href="../inspect/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/caracal_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../caracalREADME.html">Installation &amp; Run</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../intro/index.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configfile/index.html">Configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../products/index.html">Data products</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reduction/index.html">Data reduction</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Workers parameters</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../crosscal/index.html">crosscal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddcal/index.html">ddcal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flag/index.html">flag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/index.html">general</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getdata/index.html">getdata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../inspect/index.html">inspect</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">line</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enable"><strong>enable</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#label-in"><strong>label_in</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#line-name"><strong>line_name</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#restfreq"><strong>restfreq</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#rewind-flags"><strong>rewind_flags</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#overwrite-flagvers"><strong>overwrite_flagvers</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#subtractmodelcol"><strong>subtractmodelcol</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#addmodelcol"><strong>addmodelcol</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mstransform"><strong>mstransform</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#flag-mst-errors"><strong>flag_mst_errors</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sunblocker"><strong>sunblocker</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#make-cube"><strong>make_cube</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#remove-stokes-axis"><strong>remove_stokes_axis</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pb-cube"><strong>pb_cube</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#freq-to-vel"><strong>freq_to_vel</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sofia"><strong>sofia</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharpener"><strong>sharpener</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#report"><strong>report</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cabs"><strong>cabs</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../mask/index.html">mask</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mosaic/index.html">mosaic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../obsconf/index.html">obsconf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../prep/index.html">prep</a></li>
<li class="toctree-l3"><a class="reference internal" href="../selfcal/index.html">selfcal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../transform/index.html">transform</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../packages/index.html">Software used by CARACal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../caratekit_utility/index.html">Caratekit utility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../credits/index.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">CARACal</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Manual</a> &raquo;</li>
        
          <li><a href="../index.html">Workers parameters</a> &raquo;</li>
        
      <li>line</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/manual/workers/line/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="line">
<span id="id1"></span><h1>line<a class="headerlink" href="#line" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>Process visibilities for spectral line work and create line cubes and images.</p>
<div class="section" id="enable">
<span id="line-enable"></span><h2><strong>enable</strong><a class="headerlink" href="#enable" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>bool</em></p>
<p>Execute the line worker.</p>
</div></blockquote>
</div>
<div class="section" id="label-in">
<span id="line-label-in"></span><h2><strong>label_in</strong><a class="headerlink" href="#label-in" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = corr</em></p>
<p>Label defining the name of the .MS files to be processed. The .MS file names are composed using the .MS names set by dataid in the getdata worker, followed by the target ID (one file per target), followed by this label. This is the format used by CARACal whenever it writes an .MS file to disk (e.g., in the transform worker).</p>
</div></blockquote>
</div>
<div class="section" id="line-name">
<span id="line-line-name"></span><h2><strong>line_name</strong><a class="headerlink" href="#line-name" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = HI</em></p>
<p>Suffix to be used for the name of the output files (data cubes etc).</p>
</div></blockquote>
</div>
<div class="section" id="restfreq">
<span id="line-restfreq"></span><h2><strong>restfreq</strong><a class="headerlink" href="#restfreq" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = 1.420405752GHz</em></p>
<p>Spectral line rest frequency.</p>
</div></blockquote>
</div>
<div class="section" id="rewind-flags">
<span id="line-rewind-flags"></span><h2><strong>rewind_flags</strong><a class="headerlink" href="#rewind-flags" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Rewind flags of the input .MS file(s) to specified version. Note that this is not applied to the .MS file(s) you might be running “transfer_apply_gains” on.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Enable the ‘rewind_flags’ segment.</p>
</div></blockquote>
<p><strong>mode</strong></p>
<blockquote>
<div><p><em>{“reset_worker”, “rewind_to_version”}</em>, <em>optional</em>, <em>default = reset_worker</em></p>
<p>If set to ‘reset_worker’, rewind to the flag version before this worker if it exists, or continue if it does not exist; if set to ‘rewind_to_version’, rewind to the flag version given by ‘version’ and ‘mstransform_version’ below.</p>
</div></blockquote>
<p><strong>version</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = auto</em></p>
<p>Flag version to restore. This is applied to the .MS file(s) identified by “label” above. Set to “null” to skip this rewinding step. If ‘auto’ it will rewind to the version prefix_workername_before, where ‘prefix’ is set in the ‘general’ worker, and ‘workername’ is the name of this worker including the suffix ‘__X’ if it is a repeated instance of this worker in the configuration file. Note that all flag versions saved after this version will be deleted.</p>
</div></blockquote>
<p><strong>mstransform_version</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = auto</em></p>
<p>Flag version to restore. This is applied to the .MS file(s) identified by “label” above plus the “_mst” suffix. Set to “null” to skip this rewind step. If ‘auto’ it will rewind to the version prefix_workername_before, where ‘prefix’ is set in the ‘general’ worker, and ‘workername’ is the name of this worker including the suffix ‘__X’ if it is a repeated instance of this worker in the configuration file. Note that all flag versions saved after this version will be deleted.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="overwrite-flagvers">
<span id="line-overwrite-flagvers"></span><h2><strong>overwrite_flagvers</strong><a class="headerlink" href="#overwrite-flagvers" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Allow CARACal to overwrite existing flag versions. Not recommended. Only enable this if you know what you are doing.</p>
</div></blockquote>
</div>
<div class="section" id="subtractmodelcol">
<span id="line-subtractmodelcol"></span><h2><strong>subtractmodelcol</strong><a class="headerlink" href="#subtractmodelcol" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Replace the CORRECTED_DATA column of the .MS file(s) with the difference CORRECTED_DATA - MODEL_DATA. This is useful for continuum subtraction as it subtracts the continuum clean model written to MODEL_DATA. WARNING! The CORRECTED_DATA column is overwritten. To undo this operation enable the addmodelcol segment in this worker.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Enable the ‘subtractmodelcol’ segment.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="addmodelcol">
<span id="line-addmodelcol"></span><h2><strong>addmodelcol</strong><a class="headerlink" href="#addmodelcol" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Replace the CORRECTED_DATA column of the .MS file(s) with the sum CORRECTED_DATA + MODEL_DATA. This is useful to undo the operation performed by subtractmodelcol in this worker. WARNING! The CORRECTED_DATA column is overwritten.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Enable the ‘addmodelcol’ segment.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="mstransform">
<span id="line-mstransform"></span><h2><strong>mstransform</strong><a class="headerlink" href="#mstransform" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Perform Doppler-tracking corrections and/or UVLIN continuum subtraction with CASA mstransform. For each input .MS file, this produces an output .MS file whose name is the same as that of the input .MS file plus the suffix “_mst”.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Enable the ‘mstransform’ segment.</p>
</div></blockquote>
<p><strong>col</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = corrected</em></p>
<p>Which column of the .MS file(s) to process.</p>
</div></blockquote>
<p><strong>doppler</strong></p>
<blockquote>
<div><p>Include the Doppler-tracking correction in the run of CASA mstransform.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Enable the ‘doppler’ (i.e. Doppler correction) segment.</p>
</div></blockquote>
<p><strong>telescope</strong></p>
<blockquote>
<div><p><em>{“askap”, “atca”, “gmrt”, “meerkat”, “vla”, “wsrt”}</em></p>
<p>Name of the telescope used to take the data. This is used to set the telescope’s geographical coordinates when calculating the Doppler correction. Default is ‘meerkat’. Current options are askap, atca, gmrt, meerkat, vla, wsrt.</p>
</div></blockquote>
<p><strong>mode</strong></p>
<blockquote>
<div><p><em>{“frequency”}</em>, <em>optional</em>, <em>default = frequency</em></p>
<p>Regridding mode (channel/velocity/frequency/channel_b). IMPORTANT! Currently, only frequency mode is supported. Other modes will throw an error.</p>
</div></blockquote>
<p><strong>frame</strong></p>
<blockquote>
<div><p><em>{“”, “topo”, “geo”, “lsrk”, “lsrd”, “bary”, “galacto”, “lgroup”, “cmb”, “source”}</em>, <em>optional</em>, <em>default = bary</em></p>
<p>Output reference frame. Current options are ‘’, topo, geo, lsrk, lsrd, bary, galacto, lgroup, cmb, and source.</p>
</div></blockquote>
<p><strong>veltype</strong></p>
<blockquote>
<div><p><em>{“radio”, “optical”}</em>, <em>optional</em>, <em>default = radio</em></p>
<p>Velocity used when regridding if mode = velocity. Current options are radio,and optical.</p>
</div></blockquote>
<p><strong>changrid</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = auto</em></p>
<p>Output channel grid for Doppler correction. Default is ‘auto’, and the pipeline will calculate the appropriate channel grid. If not ‘auto’ then it must be in the format ‘nchan,chan0,chanw’ where nchan is an integer, and chan0 and chanw must include units appropriate for the chosen mode (see parameter ‘mode’ above).</p>
</div></blockquote>
</div></blockquote>
<p><strong>uvlin</strong></p>
<blockquote>
<div><p>Include UVLIN-like continuum subtraction in the run of CASA mstransform.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Enable the ‘UVLIN’ segment.</p>
</div></blockquote>
<p><strong>fitspw</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = ‘ ‘</em></p>
<p>Selection of line-free channels using CASA syntax (e.g. ‘0:0~100;150:300’). If set to null, a fit to all unflagged visibilities will be performed.</p>
</div></blockquote>
<p><strong>fitorder</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 1</em></p>
<p>Polynomial order of the continuum fit.</p>
</div></blockquote>
</div></blockquote>
<p><strong>obsinfo</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Create obsinfo.txt and obsinfo.json per .MS file created by CASA mstransform.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="flag-mst-errors">
<span id="line-flag-mst-errors"></span><h2><strong>flag_mst_errors</strong><a class="headerlink" href="#flag-mst-errors" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Run AOFlagger to flag any faulty visibilities produced by CASA mstransform.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Enable the ‘flag_mst_errors’ segment.</p>
</div></blockquote>
<p><strong>strategy</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = postmst.rfis</em></p>
<p>AOFlagger strategy file.</p>
</div></blockquote>
<p><strong>readmode</strong></p>
<blockquote>
<div><p><em>{“indirect”, “memory”, “auto”}</em>, <em>optional</em>, <em>default = auto</em></p>
<p>AOflagger read mode. If set to ‘indirect’, AOflagger temporarily writes a reordered .MS file to disc, which results in fast flagging but requires free disc space. If set to ‘memory’, AOflagger reads the .MS file into memory, which is even faster than ‘indirect’ but is impossible for large files. If set to ‘auto’, AOflagger will decide between the ‘memory’ mode and the ‘direct’ mode – the slowest mode – in which AOFlagger reads baselines by scanning the entire file for the data relevant for the currently required baseline.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="sunblocker">
<span id="line-sunblocker"></span><h2><strong>sunblocker</strong><a class="headerlink" href="#sunblocker" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Use sunblocker to grid the visibilities and flag UV cells affected by solar RFI. See description of sunblocker on github repository gigjozsa/sunblocker in method phazer of module sunblocker.py.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Enable the ‘sunblocker’ segment.</p>
</div></blockquote>
<p><strong>use_mstransform</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Run sunblocker on the .MS file(s) produced by the mstransform section of this worker instead of the input .MS file(s).</p>
</div></blockquote>
<p><strong>imsize</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 900</em></p>
<p>Image size (pixels). Use the same as in the make_cube section. This is used to set up the gridding of the visibilities.</p>
</div></blockquote>
<p><strong>cell</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 2.</em></p>
<p>Pixel size (arcsec). Use the same as in the make_cube section. This is used to set up the gridding of the visibilities.</p>
</div></blockquote>
<p><strong>thr</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 4.</em></p>
<p>Flag UV cells whose visibility deviates by more than this threshold from the average visibility on the UV plane. The threshold is in units of the rms dispersion of all visibilities.</p>
</div></blockquote>
<p><strong>vampirisms</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Apply the flags to data taken during day time only. Note that all data are used when calculating which UV cells to flag.</p>
</div></blockquote>
<p><strong>uvmin</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 0.</em></p>
<p>Minimum uvdistance to be analysed (in wavelengths, lambda).</p>
</div></blockquote>
<p><strong>uvmax</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 2000</em></p>
<p>Maximum uvdistance to be analysed (in wavelengths, lambda).</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="make-cube">
<span id="line-make-cube"></span><h2><strong>make_cube</strong><a class="headerlink" href="#make-cube" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Make a line cube using either WSClean + SoFiA (optional for clean masks) or CASA Clean.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Enable the ‘make_cube’ segment.</p>
</div></blockquote>
<p><strong>image_with</strong></p>
<blockquote>
<div><p><em>{“wsclean”, “casa”}</em>, <em>optional</em>, <em>default = wsclean</em></p>
<p>Choose whether to image with WSClean + SoFiA (‘wsclean’) or with CASA Clean (‘casa’).</p>
</div></blockquote>
<p><strong>use_mstransform</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Image the .MS file(s) produced by the mstransform section of this worker instead of the input .MS file(s).</p>
</div></blockquote>
<p><strong>stokes</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = I</em></p>
<p>Polarizations in output cube (I,Q,U,V,XX,YY,XY,YX,RR,LL,RL,LR and combinations).</p>
</div></blockquote>
<p><strong>spwid</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Spectral window to use.</p>
</div></blockquote>
<p><strong>nchans</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Number of channels of the line cube, where 0 means all channels.</p>
</div></blockquote>
<p><strong>firstchan</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 0</em></p>
<p>First channel of the line cube.</p>
</div></blockquote>
<p><strong>binchans</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 1</em></p>
<p>Integer binning of channels.</p>
</div></blockquote>
<p><strong>npix</strong></p>
<blockquote>
<div><p><em>seq</em>, <em>optional</em>, <em>default = 900 , 900</em></p>
<p>Image size in pixels. List of integers (width and height) or a single integer for square images.</p>
</div></blockquote>
<p><strong>cell</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 2</em></p>
<p>Pixel size. The default unit is arcsec, but other units can be specified, e.g., ‘scale 20asec’.</p>
</div></blockquote>
<p><strong>padding</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 1.2</em></p>
<p>Images have initial size padding*npix, and are later trimmed to the image size set via the ‘npix’ parameter.</p>
</div></blockquote>
<p><strong>weight</strong></p>
<blockquote>
<div><p><em>{“natural”, “uniform”, “briggs”}</em>, <em>optional</em>, <em>default = briggs</em></p>
<p>Options for the type of weighting to be used are natural, uniform, or briggs. When using Briggs weighting, the additional robust parameter has to be specified.</p>
</div></blockquote>
<p><strong>robust</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Robust parameter in case of Briggs weighting.</p>
</div></blockquote>
<p><strong>taper</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 0</em></p>
<p>Gaussian taper FWHM in arcsec. Zero means no tapering.</p>
</div></blockquote>
<p><strong>niter</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 1000000</em></p>
<p>Maximum number of clean iterations to perform.</p>
</div></blockquote>
<p><strong>gain</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 0.1</em></p>
<p>Fraction of the peak that is cleaned in each minor iteration.</p>
</div></blockquote>
<p><strong>wscl_mgain</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 1.0</em></p>
<p>Gain value for major iterations in WSClean. I.e., the maximum fraction of the image peak that is cleaned in each major iteration. A value of 1 means that all cleaning happens in the image plane and no major cycle is performed.</p>
</div></blockquote>
<p><strong>wscl_sofia_niter</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 2</em></p>
<p>Maximum number of WSClean + SoFiA iterations. The initial cleaning is done with WSClean automasking or with a user-provided clean mask. Subsequent iterations use a SoFiA clean mask. A value of 1 means that WSClean is only executed once and SoFiA is not used.</p>
</div></blockquote>
<p><strong>wscl_sofia_converge</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 1.1</em></p>
<p>Stop the WSClean + SoFiA iterations if the cube RMS has dropped by a factor &lt; wscl_sofia_converge when comparing the last two iterations (considering only channels that were cleaned). If set to 0 then the maximum number of iterations is performed regardless of the change in RMS.</p>
</div></blockquote>
<p><strong>wscl_removeintermediate</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>If set to true, WSClean + SoFiA intermediate-cubes are deleted from the output directory. If set to false, WSClean + SoFiA intermediate-cubes are retained in the output directory.</p>
</div></blockquote>
<p><strong>wscl_user_clean_mask</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = ‘ ‘</em></p>
<p>User-provided WSClean clean-mask for the first WSClean + SoFiA iteration (i.e. give the filename of the clean-mask, which is to be located in the output/masking folder).</p>
</div></blockquote>
<p><strong>wscl_auto_mask</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 10</em></p>
<p>Cleaning threshold used only during the first iteration of WSClean. This is given as the number of sigma_rms to be cleaned down to, where sigma_rms is the noise level estimated by WSClean from the residual image before the start of every major deconvolution iteration. WSClean will clean blindly down to this threshold (wscl_auto_mask), before switching to the auto-threshold set via wscl_auto_threshold.</p>
</div></blockquote>
<p><strong>wscl_auto_thr</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 0.5</em></p>
<p>Cleaning threshold used for subsequent iterations of WSClean. This is given as the number of sigma_rms to be cleaned down to, where sigma_rms is the noise level estimated by WSClean from the residual image before the start of every major deconvolution iteration.</p>
</div></blockquote>
<p><strong>wscl_make_cube</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>If set to true, the output of WSClean is a data cube. If set to false, the output is one .FITS image per spectral channel.</p>
</div></blockquote>
<p><strong>wscl_noupdatemod</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>If set to true, WSClean will not store the line clean model in MODEL_DATA.</p>
</div></blockquote>
<p><strong>wscl_multiscale</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Switch on WSClean multiscale cleaning.</p>
</div></blockquote>
<p><strong>wscl_multiscale_scales</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = ‘ ‘</em></p>
<p>Comma-separated integer scales for multiscale cleaning in pixels. If set to an empty string WSClean selects the scales automatically. These include the 0 scale, a scale calculated based on the beam size, and all scales obtained increasing the scale by a factor of 2 until the image size is reached.</p>
</div></blockquote>
<p><strong>wscl_multiscale_bias</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 0.6</em></p>
<p>Parameter to set the bias during multiscale cleaning, where a lower bias will give preference to larger angular scales.</p>
</div></blockquote>
<p><strong>casa_thr</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = 10mJy</em></p>
<p>Flux-density level to stop CASA cleaning. It must include units, e.g. ‘1.0mJy’.</p>
</div></blockquote>
<p><strong>casa_port2fits</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Port CASA output to fits files.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="remove-stokes-axis">
<span id="line-remove-stokes-axis"></span><h2><strong>remove_stokes_axis</strong><a class="headerlink" href="#remove-stokes-axis" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Remove the Stokes axis from the line cube.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Enable the ‘remove_stokes_axis’ segment.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="pb-cube">
<span id="line-pb-cube"></span><h2><strong>pb_cube</strong><a class="headerlink" href="#pb-cube" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Make a primary-beam cube.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Enable the ‘pb_cube’ segment.</p>
</div></blockquote>
<p><strong>apply_pb</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Whether or not to apply the primary-beam correction to the image cube.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="freq-to-vel">
<span id="line-freq-to-vel"></span><h2><strong>freq_to_vel</strong><a class="headerlink" href="#freq-to-vel" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Convert the spectral axis’ header keys of the line cube from frequency to velocity in the radio definition, v=c(1-obsfreq/restfreq). No change of spectra reference frame is performed.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Enable the ‘freq_to_vel’ segment.</p>
</div></blockquote>
<p><strong>reverse</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Perform the inverse transformation and change the cube’s 3rd axis from radio velocity to frequency.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="sofia">
<span id="line-sofia"></span><h2><strong>sofia</strong><a class="headerlink" href="#sofia" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Run SoFiA source-finder to produce a detection mask, moment images and catalogues.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Enable the ‘sofia’ segment.</p>
</div></blockquote>
<p><strong>flag</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Use flag regions?</p>
</div></blockquote>
<p><strong>flagregion</strong></p>
<blockquote>
<div><p><em>list</em> <em>of int</em>, <em>optional</em>, <em>default = 0, 0, 0, 0, 0, 0</em></p>
<p>Pixel/channel range(s) to be flagged prior to source finding. Format is [[x1, x2, y1, y2, z1, z2], …].</p>
</div></blockquote>
<p><strong>rmsMode</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = mad</em></p>
<p>Method to determine rms (‘mad’ for using median absolute deviation, ‘std’ for using standard deviation, ‘negative’ for using Gaussian fit to negative voxels).</p>
</div></blockquote>
<p><strong>thr</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 4.0</em></p>
<p>SoFiA source-finding threshold, in terms of the number of sigma_rms to go down to (i.e. the minimum signal-to-noise ratio).</p>
</div></blockquote>
<p><strong>merge</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Merge pixels detected by any of the SoFiA source-finding algorithms into objects. If enabled, pixels with a separation of less than mergeX pixels in the X direction, mergeY pixels in the Y direction, and mergeZ channels in the Z direction will be merged and identified as a single object in the mask. Objects whose extent is smaller than minSizeX, minSizeY or minSizeZ will be removed from the mask.</p>
</div></blockquote>
<p><strong>mergeX</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 2</em></p>
<p>Merging radius (in pixels) in the X direction (RA axis).</p>
</div></blockquote>
<p><strong>mergeY</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 2</em></p>
<p>Merging radius (in pixels) in the Y direction (Dec axis).</p>
</div></blockquote>
<p><strong>mergeZ</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 3</em></p>
<p>Merging radius (in channels) in Z direction (spectral axis).</p>
</div></blockquote>
<p><strong>minSizeX</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 3</em></p>
<p>Minimum size (in pixels) in the X direction (RA axis).</p>
</div></blockquote>
<p><strong>minSizeY</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 3</em></p>
<p>Minimum size (in pixels) in the Y direction (Dec axis).</p>
</div></blockquote>
<p><strong>minSizeZ</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 3</em></p>
<p>Minimum size (in channels) in the Z direction (spectral axis).</p>
</div></blockquote>
<p><strong>cubelets</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Create a cubelet for each detected emission-line object.</p>
</div></blockquote>
<p><strong>mom0</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Create a moment-0 image of the field.</p>
</div></blockquote>
<p><strong>mom1</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = True</em></p>
<p>Create a moment-1 image of the field.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="sharpener">
<span id="line-sharpener"></span><h2><strong>sharpener</strong><a class="headerlink" href="#sharpener" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Run sharpener to extract and plot the spectra of all continuum sources brighter than a given threshold.</p>
<p><strong>enable</strong></p>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>Enable the ‘sharpener’ segment.</p>
</div></blockquote>
<p><strong>catalog</strong></p>
<blockquote>
<div><p><em>{“NVSS”, “PYBDSF”}</em>, <em>optional</em>, <em>default = PYBDSF</em></p>
<p>Type of catalogue to use. Options are PYBDSF and NVSS.</p>
</div></blockquote>
<p><strong>chans_per_plot</strong></p>
<blockquote>
<div><p><em>int</em>, <em>optional</em>, <em>default = 50</em></p>
<p>Number of channels to plot per detailed plot.</p>
</div></blockquote>
<p><strong>thr</strong></p>
<blockquote>
<div><p><em>float</em>, <em>optional</em>, <em>default = 20</em></p>
<p>Threshold to select sources in online catalogue (in units of mJy).</p>
</div></blockquote>
<p><strong>width</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = 1.0d</em></p>
<p>Field-of-view of output catalogue (in units of degrees).</p>
</div></blockquote>
<p><strong>label</strong></p>
<blockquote>
<div><p><em>str</em>, <em>optional</em>, <em>default = ‘ ‘</em></p>
<p>Prefix label of plot names and titles.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="report">
<span id="line-report"></span><h2><strong>report</strong><a class="headerlink" href="#report" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>bool</em>, <em>optional</em>, <em>default = False</em></p>
<p>(Re)generate a full HTML report at the end of this worker.</p>
</div></blockquote>
</div>
<div class="section" id="cabs">
<span id="line-cabs"></span><h2><strong>cabs</strong><a class="headerlink" href="#cabs" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><em>list</em> <em>of map</em>, <em>optional</em>, <em>default = ‘ ‘</em></p>
<p>Specifies non-default image versions and/or tags for Stimela cabs. Running with scissors: use with extreme caution.</p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../mask/index.html" class="btn btn-neutral float-right" title="mask" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../inspect/index.html" class="btn btn-neutral float-left" title="inspect" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, CARACal team

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>